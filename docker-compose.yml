version: "3"

services:
  expense-authorization-portal-api:
    build:
      context: ./expense-authorization/src/API
    image: embc-expense-authorization-api:dev
    ports:
      - 8080:80
    environment:
      - ETEAM__URL=http://localhost/
      - ETEAM__USERNAME=username
      - ETEAM__PASSWORD=password
      - EMAIL__ENABLED=false
      - ASPNETCORE_ENVIRONMENT=Development

  expense-authorization-portal-ui:
    build:
      context: ./expense-authorization/src/UI
    image: embc-expense-authorization-ui:dev
    ports:
      - 2015:2015
    environment:
      - "API_URL=http://expense-authorization-portal-api"
    depends_on:
      - expense-authorization-portal-api