<form [formGroup]="resourceRequestForm" (ngSubmit)="onSubmit()">
    <div class="container">
        <h1>Resourse Request</h1>

        <div class="row">
            <div class="form-group col-md">
                <label for="dateOfRequest">Date of Request</label>
                <div class="input-group">
                    <input class="form-control" placeholder="yyyy/mm/dd" id="dateOfRequest" [formControlName]="'dateOfRequest'" ngbDatepicker #d="ngbDatepicker">
                    <div class="input-group-append">
                        <button type="button" class="btn btn-outline-secondary" (click)="d.toggle()"><i class="far fa-calendar-alt"></i></button>
                    </div>
                </div>
            </div>

            <div class="form-group col-md">
                <label for="timeOfRequest">Time of Request</label>
                <input id="timeOfRequest" type="time" class="form-control" formControlName="timeOfRequest">
            </div>

            <div class="form-group col-md">
                <label for="trackingNumber">Tracking Number</label>
                <input id="trackingNumber" type="text" class="form-control" formControlName="trackingNumber">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md">
                <h5>Priority</h5>
                <div class="form-inline">
                    <div class="form-group">
                        <input id="emergency" type="radio" formControlName="priority" value="1">
                        <label for="emergency">Emergency</label>
                    </div>
                    <div class="form-group">
                        <input id="priority" type="radio" formControlName="priority" value="2">
                        <label for="priority">Priority</label>
                    </div>
                    <div class="form-group">
                        <input id="routine" type="radio" formControlName="priority" value="3">
                        <label for="routine">Routine</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md">
                <label for="requestorsCommunity">Requestor's Community</label>
                <input id="requestorsCommunity" type="text" class="form-control" formControlName="requestorsCommunity">
            </div>
            <div class="form-group col-md">
                <label for="requestorsContactInfo">Requestor's Contact Info</label>
                <textarea id="requestorsContactInfo" type="text" class="form-control" formControlName="requestorsContactInfo" rows="3" >
                </textarea>
            </div>
        </div>

        <h4>What is being Requested</h4>

        <div class="row">
            <div class="form-group col-md">
                <label for="resourceCategory">Resource Category</label>
                <input id="resourceCategory" type="text" class="form-control" formControlName="resourceCategory">
            </div>
            <div class="form-group col-md">
                <label for="resourceType">Resource Type</label>
                <input id="resourceType" type="text" class="form-control" formControlName="resourceType">
            </div>
            <div class="form-group col-md">
                <label for="quantity">Quantity</label>
                <input id="quantity" type="text" class="form-control" formControlName="quantity">
            </div>
        </div>

        <div class="row">
            <div class="form-group col-md">
                <label for="unitsOfMeasure">Units of Measure</label>
                <input id="unitsOfMeasure" type="text" class="form-control" formControlName="unitsOfMeasure">
            </div>
            <div class="form-group col-md">
                <label for="whenRequired">When Required</label>
                <div class="input-group">
                    <input class="form-control" placeholder="yyyy/mm/dd" id="whenRequired" [formControlName]="'whenRequired'" ngbDatepicker #d2="ngbDatepicker">
                    <div class="input-group-append">
                        <button type="button" class="btn btn-outline-secondary" (click)="d2.toggle()"><i class="far fa-calendar-alt"></i></button>
                    </div>
                </div>
            </div>
            <div class="form-group col-md">
            </div>
        </div>
        
        <button type="submit" [disabled]="!resourceRequestForm.valid">Submit</button>
    </div>

    <!-- test API -->
    <p>isProd:{{environment.production}}</p>
    <p>apiUrl:{{environment.apiEndpoint}}</p>
    <div *ngFor="let article of weatherArticles | async">
        <p>Date: {{article.date}}</p>
        <p>TemperatureC: {{article.temperatureC}}</p>
        <p>TemperatureF: {{article.temperatureF}}</p>
        <p>Summary: {{article.summary}}</p>
    </div>

</form>